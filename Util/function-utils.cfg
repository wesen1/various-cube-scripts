//
// @author wesen
// @copyright 2021 wesen <wesen-ac@web.de>
//

const getFunctionArguments [

  numberOfArguments = $arg1;
  pop arg1;

  functionArguments = [];
  loop i (+ $numberOfArguments 1) [
    add2list functionArguments (getalias (concatword "arg" $i));
  ]


  return $functionArguments

]

const call_user_func_array [

  functionName = $arg1;
  arguments = $arg2;

  execute (concat "tmpResult = (" $functionName $arguments ")");

  return $tmpResult;

]

const call_anonymous_func_array [

  functionBody = $arg1;
  arguments = $arg2;

  execute (concat "tmpFunction = [" $functionBody "]");
  return (call_user_func_array "tmpFunction" $arguments);

]


const test [
  echo $arg1;
  echo $arg2;
  echo $arg3;

  return "OK";
]

const testUserCall [

  echo (call_user_func_array "test" [ 1 "b" "drei"]);

]
